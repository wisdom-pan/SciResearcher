# SciResearcher

> åŸºäº smolagents + MinerU API + ChromaDB çš„ç§‘ç ”æ–‡çŒ®æ·±åº¦ç†è§£æ¡†æ¶

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![smolagents](https://img.shields.io/badge/smolagents-1.0+-green.svg)](https://github.com/huggingface/smolagents)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Gradio](https://img.shields.io/badge/Gradio-Web_UI-orange.svg)](https://gradio.app/)

## é¡¹ç›®ç®€ä»‹

SciResearcher æ˜¯ä¸“ä¸ºç§‘ç ”å·¥ä½œè€…è®¾è®¡çš„è½»é‡ã€å¼€æºã€å¯éªŒè¯çš„ AI åŠ©æ‰‹ã€‚åŸºäº **smolagents** + **MinerU API** + **ChromaDB** + **é­”æ­API**ï¼Œæä¾›ç§‘ç ”æ–‡çŒ®çš„æ™ºèƒ½è§£æã€é—®ç­”å’Œæ·±åº¦ç ”ç©¶åŠŸèƒ½ã€‚

### æ ¸å¿ƒç‰¹ç‚¹

- âœ… **Web ç•Œé¢**: åŸºäº Gradio çš„ç°ä»£åŒ– Web äº¤äº’ç•Œé¢
- âœ… **MinerU API è§£æ**: æ”¯æŒ PDF å¤šæ¨¡æ€è§£æï¼ˆæ–‡å­—ã€å›¾è¡¨ã€å…¬å¼ã€OCRï¼‰
- âœ… **é­”æ­ API**: é›†æˆ Qwen-Plus è¿›è¡Œæ™ºèƒ½é—®ç­”å’Œæ·±åº¦åˆ†æ
- âœ… **ChromaDB å‘é‡åº“**: é«˜æ•ˆè¯­ä¹‰æ£€ç´¢ï¼Œæ”¯æŒæ–‡æ¡£ç®¡ç†
- âœ… **smolagents æ¡†æ¶**: ä½¿ç”¨ HuggingFace å®˜æ–¹ Multi-Agent æ¡†æ¶
- âœ… **å¯éªŒè¯è¾“å‡º**: å¼ºåˆ¶å¼•ç”¨ + ç½®ä¿¡åº¦è¯„åˆ†
- âœ… **Docker éƒ¨ç½²**: ä¸€é”®éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨

### v2.1.0 é‡å¤§æ›´æ–°

ğŸ‰ **å…¨æ–° Web ç•Œé¢ + API è°ƒç”¨æ¨¡å¼**

- ğŸŒ **Gradio Web UI**: å…¨æ–°çš„ç°ä»£åŒ– Web ç•Œé¢ï¼Œæ”¯æŒæ–‡æ¡£ä¸Šä¼ ã€æ™ºèƒ½é—®ç­”ã€æ·±åº¦ç ”ç©¶
- ğŸ”— **API æ¨¡å¼**: ä½¿ç”¨ MinerU API + é­”æ­ APIï¼Œæ— éœ€æœ¬åœ°éƒ¨ç½²æ¨¡å‹
- ğŸ’¾ **ChromaDB**: æä¾›æ›´å¥½çš„æ–‡æ¡£ç®¡ç†å’ŒæŒä¹…åŒ–
- âš™ï¸ **è‡ªå®šä¹‰é…ç½®**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰ API Key å’Œ Token

## æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SciResearcher                          â”‚
â”‚                   Gradio Web Interface                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ ¸å¿ƒåŠŸèƒ½æ¨¡å—                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  æ–‡æ¡£ä¸Šä¼      â”‚  â”‚  æ™ºèƒ½é—®ç­”     â”‚  â”‚  æ·±åº¦ç ”ç©¶     â”‚     â”‚
â”‚  â”‚  PDFå¤„ç†     â”‚  â”‚  RAGæ£€ç´¢     â”‚  â”‚  å¤šç»´åˆ†æ     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å·¥å…·é›† (Tools)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ parse_pdf()          # MinerU API PDFè§£æ          â”‚    â”‚
â”‚  â”‚ vector_db.add()      # ChromaDB æ–‡æ¡£ç´¢å¼•           â”‚    â”‚
â”‚  â”‚ vector_db.search()   # è¯­ä¹‰æ£€ç´¢                    â”‚    â”‚
â”‚  â”‚ ask_question()       # æ™ºèƒ½é—®ç­”                    â”‚    â”‚
â”‚  â”‚ deep_research()      # æ·±åº¦ç ”ç©¶åˆ†æ                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API æœåŠ¡å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ é­”æ­ Qwen    â”‚  â”‚  MinerU API  â”‚  â”‚  ChromaDB    â”‚     â”‚
â”‚  â”‚  Plus/Turbo  â”‚  â”‚  PDFè§£æ     â”‚  â”‚  å‘é‡æ£€ç´¢     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ é­”æ­ Embed   â”‚  â”‚   Qwen-VL    â”‚                       â”‚
â”‚  â”‚   å‘é‡åŒ–      â”‚  â”‚   è§†è§‰ç†è§£   â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/SciResearcher.git
cd SciResearcher

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä»¥ä¸‹é…ç½®:
# - MODELSCOPE_API_KEY: é­”æ­APIå¯†é’¥
# - MINERU_API_TOKEN: MinerU API Token

# 3. ä½¿ç”¨ Docker Compose å¯åŠ¨
docker-compose up -d

# 4. è®¿é—® Web ç•Œé¢
# æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:7860
```

### æ–¹å¼äºŒï¼šæœ¬åœ°å®‰è£…

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n sciresearcher python=3.10
conda activate sciresearcher

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# 4. å¯åŠ¨ Web ç•Œé¢
python gradio_app.py
# è®¿é—®: http://localhost:7860
```

## ğŸ“¸ ç•Œé¢æ¼”ç¤º

![SciResearcher Demo](assets/demo.jpeg)

## API é…ç½®

### è·å–é­”æ­ API å¯†é’¥

1. è®¿é—® [é­”æ­ç¤¾åŒºæ§åˆ¶å°](https://dashscope.console.aliyun.com/apiKey)
2. åˆ›å»º API Key
3. å°†å¯†é’¥å¡«å…¥ `.env` æ–‡ä»¶çš„ `MODELSCOPE_API_KEY`

### è·å– MinerU API Token

1. è®¿é—® [MinerU æ§åˆ¶å°](https://mineru.net)
2. æ³¨å†Œå¹¶è·å– API Token
3. å°† Token å¡«å…¥ `.env` æ–‡ä»¶çš„ `MINERU_API_TOKEN`

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# .env æ–‡ä»¶
MODELSCOPE_API_KEY=your_api_key
MODELSCOPE_BASE_URL=https://api-inference.modelscope.cn/v1
MINERU_API_TOKEN=your_token
```

## é¡¹ç›®ç»“æ„

```
SciResearcher/
â”œâ”€â”€ gradio_app.py                # Web ç•Œé¢å…¥å£
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ smolagents_tools.py      # MinerU å·¥å…·
â”‚   â””â”€â”€ vector_db_chroma.py      # ChromaDB å‘é‡åº“
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml             # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/
â”‚   â””â”€â”€ chromadb/               # ChromaDB æ•°æ®
â”œâ”€â”€ Dockerfile                   # Docker é•œåƒ
â”œâ”€â”€ docker-compose.yml          # Docker Compose é…ç½®
â”œâ”€â”€ requirements.txt            # Python ä¾èµ–
â””â”€â”€ README.md                   # æœ¬æ–‡æ¡£
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

åœ¨ `tools/smolagents_tools.py` ä¸­æ·»åŠ æ–°çš„ smolagents å·¥å…·ï¼š

```python
from smolagents import tool

@tool
def your_new_tool(param: str) -> str:
    """
    Tool description here.

    Args:
        param: Parameter description

    Returns:
        Result description
    """
    # Your implementation
    return result
```

### è¿è¡Œæµ‹è¯•

```bash
pytest tests/
```

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æé«˜å›ç­”è´¨é‡?

A:
1. ä½¿ç”¨æ›´å¼ºçš„æ¨¡å‹ (qwen-plus)
2. å¢åŠ æ£€ç´¢ç»“æœæ•°é‡
3. ä¼˜åŒ–æ–‡æœ¬åˆ†å—å¤§å°

### Q: æ”¯æŒå“ªäº› PDF æ ¼å¼?

A: æ”¯æŒæ ‡å‡† PDF æ ¼å¼ï¼ŒåŒ…æ‹¬:
- æ–‡æœ¬å‹ PDF
- æ‰«æå‹ PDF (æ”¯æŒ OCR)
- åŒ…å«å›¾è¡¨ã€å…¬å¼çš„å­¦æœ¯è®ºæ–‡

### Q: æ–‡æ¡£æ•°æ®å¦‚ä½•å­˜å‚¨?

A: æ–‡æ¡£å†…å®¹æŒä¹…åŒ–å­˜å‚¨åœ¨ `./data/chromadb/` ç›®å½•ä¸­ï¼Œå®¹å™¨é‡å¯åæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚

## è‡´è°¢

- [smolagents](https://github.com/huggingface/smolagents) - HuggingFace çš„ Multi-Agent æ¡†æ¶
- [Qwen](https://github.com/QwenLM/Qwen) - é˜¿é‡Œäº‘é€šä¹‰åƒé—®ç³»åˆ—æ¨¡å‹
- [MinerU](https://github.com/opendatalab/MinerU) - PDF è§£æå·¥å…·
- [ChromaDB](https://github.com/chroma-core/chroma) - å¼€æºå‘é‡æ•°æ®åº“
- [Gradio](https://gradio.app/) - æœºå™¨å­¦ä¹  Web ç•Œé¢æ¡†æ¶

---

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**

**ğŸ“§ è”ç³»æ–¹å¼**: your-email@example.com
